# 064 - Uplift（★3）

## テーマ: 階差を考えよう

## 解法
階差 `b[i] := a[i+1] - a[i], (i = 0,...,n-2)` を考えると, 不便さは `|b[0]| + |b[1]| + ... + |b[n-2]|` となる. ここで, 地殻変動によって `L,L+1,...,R` の標高が `V` 増えたとき, `b[i]` の値は次のように変化する.

1. `b[l-1]` が `+V` 変化する
1. `b[r]` が `-V` 変化する

これにより, 地殻変動によって不便さがどの程度増減したかを `O(1)` で求めることができるので, 全体で `O(N+Q)` で解くことができる.
