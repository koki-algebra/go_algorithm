# 016 - Minimum Coins（★3）

## テーマ: 工夫した全探索

## 解法

Ax + By + Cz = N を満たす (x, y, z) のうち, x + y + z が最小となるものを探索する. **合計 9999 枚以下の硬貨でちょうど N 円を支払うことができる** という記述から, 以下の全探索を考えてみる.

```golang
const P = 9999

ans := P + 1
for x := 0; x <= P; x++ {
	for y := 0; y <= P; y++ {
		for z := 0; z <= P; z++ {
			if a*x + b*y + c*z == n && ans > x + y + z {
				ans = x + y + z
			}
		}
	}
}
```

しかし, この解法では O(P^3) となり, P = 10000 とすると計算回数が 10^12 程度となってしまう.

ここで, (x, y) を固定したとき, z 存在すれば一意に決まることを利用する. N - Ax - By が C で割り切れない場合や, Ax + By > N となる場合は z は存在しない. 逆に, N - Ax - By が C で割り切れて, Ax + By <= N を満たすときは z = (N - Ax - By) / C と一意に決まる.

したがって, 以下のような (x, y) の全探索で求めることができる.

```golang
const P = 9999

ans := P + 1
for x := 0; x <= P; x++ {
	for y := 0; y <= P; y++ {
		tmp := a*x + b*y
		if (n-tmp)%c == 0 && tmp <= n {
			z := (n - tmp) / c
			if ans > x + y + z {
				ans = x + y + z
			}
		}
	}
}
```

この解法では O(P^2) となり, P = 10000 では計算回数が 10^8 程度となり, 十分高速に求めることができる.
