# 076 - Cake Cut（★3）

## テーマ: 円環を列にして二倍にする

## 解法

$(a_0, a_1, a_2, a_3) = (2, 11, 16, 1)$ のとき, 円環のまま考えるのは難しいので

$$
(b_0, b_1, b_2, b_3, b_4, b_5, b_6, b_7) = (2, 11, 16, 1, 2, 11, 16, 1)
$$

のように一列にして考えるとよい.

ここで, 区間和を $O(1)$ で計算するために累積和を事前に計算しておく.

$$
(s_0, s_1, s_2, s_3, s_4, s_5, s_6, s_7, s_8) = (0, 2, 13, 29, 30, 32, 43, 59, 60)
$$

すると, 問題を次のように言い換えることができる.

$$
s_r - s_l = \frac{s_n}{10} を満たす整数の組 (l, r) ~ (0 \leq l < r \leq 2n) は存在するか?
$$

これは, $l = 0,1,\ldots,n-1$ のそれぞれについて $r$ を二分探索すればよい. したがって, 全体で $O(n\log{n})$ で解くことができる.
